jQuery(function($){$('.qrcode:not(.processed)').each(function(){$(this).qrcode($(this).data('qrcode')).addClass('processed')});$('body').on('click','.wr_refl_button_copy',function(event){var contentDiv=$(event.target).closest('.wr-referral-code-wrapper').find('.url_to_copy');if(contentDiv.hasClass("qrcode")){var canvas=contentDiv.find('canvas');var img=document.createElement('img');img.src=canvas[0].toDataURL();var div=document.createElement('div');div.contentEditable=!0;div.appendChild(img);document.body.appendChild(div);if(document.body.createTextRange){var range=document.body.createTextRange();range.moveToElementText(div);range.select()}else if(window.getSelection){var selection=window.getSelection();var range=document.createRange();range.selectNodeContents(div);selection.removeAllRanges();selection.addRange(range)}
document.execCommand('Copy');document.body.removeChild(div)}else{window.getSelection().selectAllChildren(contentDiv.get(0));document.execCommand('copy')}
var copiedMsg=$(event.target).parent().find('.copied-message');copiedMsg.animate({opacity:1},200).delay(3000).animate({opacity:0},200)})})