jQuery(function($){$('body').on('change','.lws_adm_durationfield .lws_adm_lifetime_master',function(){var master=$(this).closest('.lws_adm_durationfield');var check=master.find('.lws_adm_lifetime_check');var visible=($(this).val().trim().length>0||check.length==0);var unit=master.find('.lws_adm_lifetime_unit').val();if(visible){var str=$(this).val().trim();if(str.startsWith('P'))str=str.substr(1);let u=str.slice(-1);master.find('.lws_adm_lifetime_unit').val(u.length?u:unit);master.find('.lws_adm_lifetime_value').val(str.slice(0,-1))}
master.find('.lws_adm_lifetime_value').toggle(visible);if(master.find('.lac-select-wrapper').length<=0)
master.find('.lws_adm_lifetime_unit').toggle(visible);else master.find('.lac-select-wrapper').toggle(visible);if(check.length>0&&check.prop('checked')!=visible)
master.find('.lws_adm_lifetime_check').prop('checked',visible).trigger('change');if(unit!=master.find('.lws_adm_lifetime_unit').val())
master.find('.lws_adm_lifetime_unit').trigger('change');});$('body').on('change','.lws_adm_durationfield .lws_adm_lifetime_check',function(){var master=$(this).closest('.lws_adm_durationfield');var visible=$(this).prop('checked');master.find('.lws_adm_lifetime_value').toggle(visible);if(master.find('.lac-select-wrapper').length<=0)
master.find('.lws_adm_lifetime_unit').toggle(visible);else master.find('.lac-select-wrapper').toggle(visible);if(!visible){master.find('.lws_adm_lifetime_master').val('')}else{var v=parseInt(master.find('.lws_adm_lifetime_value').val());if(isNaN(v))
master.find('.lws_adm_lifetime_master').val('');else master.find('.lws_adm_lifetime_master').val('P'+Math.abs(v).toString()+master.find('.lws_adm_lifetime_unit').val())}});$('body').on('change','.lws_adm_durationfield .lws_adm_lifetime_value',function(){var master=$(this).closest('.lws_adm_durationfield');var v=parseInt(master.find('.lws_adm_lifetime_value').val());if(isNaN(v)){master.find('.lws_adm_lifetime_master').val('');master.find('.lws_adm_lifetime_value').val('0')}else master.find('.lws_adm_lifetime_master').val('P'+Math.abs(v).toString()+master.find('.lws_adm_lifetime_unit').val())});$('body').on('change','.lws_adm_durationfield .lws_adm_lifetime_unit',function(){var master=$(this).closest('.lws_adm_durationfield');var v=parseInt(master.find('.lws_adm_lifetime_value').val());if(isNaN(v))
master.find('.lws_adm_lifetime_master').val('');else master.find('.lws_adm_lifetime_master').val('P'+Math.abs(v).toString()+master.find('.lws_adm_lifetime_unit').val())})})