jQuery(function($){$('#lws-wr-pool-option-period-begin').on('change',function(){if($(this).val().trim()!=''){var d=new Date($(this).val());var mid=$('#lws-wr-pool-option-period-mid');if(mid.length>0&&mid.val().trim()!=''&&d>(new Date(mid.val())))
mid.val('');var end=$('#lws-wr-pool-option-period-end');if(end.length>0&&end.val().trim()!=''&&d>(new Date(end.val())))
end.val('');}});$('#lws-wr-pool-option-period-mid').on('change',function(){if($(this).val().trim()!=''){var d=new Date($(this).val());var beg=$('#lws-wr-pool-option-period-begin');if(beg.length>0&&beg.val().trim()!=''&&d<(new Date(beg.val())))
beg.val('');var end=$('#lws-wr-pool-option-period-end');if(end.length>0&&end.val().trim()!=''&&d>(new Date(end.val())))
end.val('');}});$('#lws-wr-pool-option-period-end').on('change',function(){if($(this).val().trim()!=''){var d=new Date($(this).val());var beg=$('#lws-wr-pool-option-period-begin');if(beg.length>0&&beg.val().trim()!=''&&d<(new Date(beg.val())))
beg.val('');var mid=$('#lws-wr-pool-option-period-mid');if(mid.length>0&&mid.val().trim()!=''&&d<(new Date(mid.val())))
mid.val('');}});$('.lws_editlist.unlockablelist').on('edit',function(event,data,editlist){$('#lws_woorewards_pro_unlockables_role_role_input.lac_select').lac_select('reInitSource')});setTimeout(function(){var title=$('input[name="lws-wr-pool-option-title"]');if(title.length&&''==title.val().trim()){var group=title.closest('.group-content.collapsed');if(group.length)
group.closest('.group-item').find('.group-title-line .group-title').trigger('click');title.trigger('focus')}},100);$('input[name="lws-wr-pool-option-title"]').on('change keyup init',function(){$(this).toggleClass('value-required',''==$(this).val().trim())}).trigger('init');$(document).on('click','.lws-adminpanel #save_changes',function(){var title=$('input[name="lws-wr-pool-option-title"]');if(title.length&&''==title.val().trim())
title.closest('.group-content').removeClass('collapsed');});$('#lws_wr_pool_pointstack').on('change init',function(){var value=$(this).val();var hints=$(this).closest('.group-content').find('.pointstack_help').addClass('hidden');$.ajax({type:'get',dataType:'json',url:lws_ajax.url,data:{action:'lws_woorewards_shared_points_with',stack:value,except:$('#lws_wr_pool_id').val()},success:function(response){hints.find('.list').html(response.message);hints.filter(response.systems.length<1?'.single':'.shared').removeClass('hidden')}})}).trigger('init');$(document).on('click','#lws-wr-pools .editlist-actions-popup .lws_action_toggle',function(){var me=$(this);var toggle=me.hasClass('on');var actions=me.closest('.editlist-actions-popup').find('.lws_action_toggle');var list=$('#lws-wr-pools');var row=list.lws_editlist('getRowData',me);if(undefined!=row){row.data.enabled=toggle?'on':'';list.lws_editlist('updateRowData',row);actions.filter('.on').toggleClass('hidden',toggle);actions.filter('.off').toggleClass('hidden',!toggle)}})})